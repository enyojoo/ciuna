"use strict";(()=>{var e={};e.id=461,e.ids=[461],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1568:e=>{e.exports=require("zlib")},1097:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>l,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var a={};t.r(a),t.d(a,{GET:()=>u});var i=t(1686),o=t(4975),s=t(8640),n=t(8039),p=t(6974);async function u(e){try{let e=new Date,r=new Date(e.getTime()-36e5),{data:t,error:a}=await p.OQ.rpc("get_analytics_dashboard_data",{p_start_date:r.toISOString(),p_end_date:e.toISOString()});if(a)return console.error("Error fetching real-time data:",a),n.NextResponse.json({error:"Failed to fetch real-time data"},{status:500});return n.NextResponse.json(t)}catch(e){return console.error("Error in real-time analytics:",e),n.NextResponse.json({error:"Internal server error"},{status:500})}}let l=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/analytics/realtime/route",pathname:"/api/analytics/realtime",filename:"route",bundlePath:"app/api/analytics/realtime/route"},resolvedPagePath:"D:\\Users\\enyoc\\Documents\\Dev\\ciuna\\app\\api\\analytics\\realtime\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m}=l,x="/api/analytics/realtime/route";function h(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[843,402,974],()=>t(1097));module.exports=a})();