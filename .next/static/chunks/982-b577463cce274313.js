"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{4495:function(e,a,n){n.d(a,{ZP:function(){return o}});var s=n(9659),t=n(3330),l=n(9059),u=n(8667),r=n(430),c=n(4317);let i=[{code:"RUB",name:"Russian Ruble",symbol:"₽",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"USD",name:"US Dollar",symbol:"$",flag:"\uD83C\uDDFA\uD83C\uDDF8"},{code:"EUR",name:"Euro",symbol:"€",flag:"\uD83C\uDDEA\uD83C\uDDFA"},{code:"GBP",name:"British Pound",symbol:"\xa3",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"JPY",name:"Japanese Yen",symbol:"\xa5",flag:"\uD83C\uDDEF\uD83C\uDDF5"},{code:"CNY",name:"Chinese Yuan",symbol:"\xa5",flag:"\uD83C\uDDE8\uD83C\uDDF3"},{code:"KRW",name:"South Korean Won",symbol:"₩",flag:"\uD83C\uDDF0\uD83C\uDDF7"},{code:"INR",name:"Indian Rupee",symbol:"₹",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"BRL",name:"Brazilian Real",symbol:"R$",flag:"\uD83C\uDDE7\uD83C\uDDF7"},{code:"CAD",name:"Canadian Dollar",symbol:"C$",flag:"\uD83C\uDDE8\uD83C\uDDE6"},{code:"AUD",name:"Australian Dollar",symbol:"A$",flag:"\uD83C\uDDE6\uD83C\uDDFA"},{code:"CHF",name:"Swiss Franc",symbol:"CHF",flag:"\uD83C\uDDE8\uD83C\uDDED"},{code:"SEK",name:"Swedish Krona",symbol:"kr",flag:"\uD83C\uDDF8\uD83C\uDDEA"},{code:"NOK",name:"Norwegian Krone",symbol:"kr",flag:"\uD83C\uDDF3\uD83C\uDDF4"},{code:"DKK",name:"Danish Krone",symbol:"kr",flag:"\uD83C\uDDE9\uD83C\uDDF0"},{code:"PLN",name:"Polish Zloty",symbol:"zł",flag:"\uD83C\uDDF5\uD83C\uDDF1"},{code:"CZK",name:"Czech Koruna",symbol:"Kč",flag:"\uD83C\uDDE8\uD83C\uDDFF"},{code:"HUF",name:"Hungarian Forint",symbol:"Ft",flag:"\uD83C\uDDED\uD83C\uDDFA"},{code:"TRY",name:"Turkish Lira",symbol:"₺",flag:"\uD83C\uDDF9\uD83C\uDDF7"},{code:"ZAR",name:"South African Rand",symbol:"R",flag:"\uD83C\uDDFF\uD83C\uDDE6"}];function o(e){let{variant:a="dropdown",showSymbol:n=!0,className:o=""}=e,{userPreferences:D,updateUserPreferences:d,formatPrice:m}=(0,u.QT)(),[f,x]=(0,t.useState)(!1),C=(null==D?void 0:D.currency_code)||"RUB",h=i.find(e=>e.code===C),g=async e=>{await d({currency_code:e}),x(!1)};return"inline"===a?(0,s.jsx)("div",{className:"flex flex-wrap gap-2 ".concat(o),children:i.slice(0,8).map(e=>(0,s.jsxs)(l.zx,{variant:C===e.code?"default":"outline",size:"sm",onClick:()=>g(e.code),className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"text-lg",children:e.flag}),(0,s.jsx)("span",{children:e.code}),n&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.symbol}),C===e.code&&(0,s.jsx)(r.Z,{className:"h-3 w-3"})]},e.code))}):"button"===a?(0,s.jsxs)(l.zx,{variant:"outline",onClick:()=>x(!f),className:"flex items-center space-x-2 ".concat(o),children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-lg",children:(null==h?void 0:h.flag)||"\uD83D\uDCB1"}),(0,s.jsx)("span",{children:(null==h?void 0:h.code)||"RUB"}),n&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:(null==h?void 0:h.symbol)||"₽"})]}):(0,s.jsxs)(l.h_,{open:f,onOpenChange:x,children:[(0,s.jsx)(l.$F,{asChild:!0,children:(0,s.jsxs)(l.zx,{variant:"outline",className:"flex items-center space-x-2 ".concat(o),children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-lg",children:(null==h?void 0:h.flag)||"\uD83D\uDCB1"}),(0,s.jsx)("span",{children:(null==h?void 0:h.code)||"RUB"}),n&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:(null==h?void 0:h.symbol)||"₽"})]})}),(0,s.jsx)(l.AW,{align:"end",className:"w-64",children:i.map(e=>(0,s.jsxs)(l.Xi,{onClick:()=>g(e.code),className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"text-lg",children:e.flag}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium",children:e.code}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.symbol}),C===e.code&&(0,s.jsx)(r.Z,{className:"h-4 w-4 text-blue-600"})]})]},e.code))})]})}},2448:function(e,a,n){n.d(a,{Z:function(){return o}});var s=n(9659),t=n(3330),l=n(9059),u=n(8667),r=n(430),c=n(7266);let i={en:"\uD83C\uDDFA\uD83C\uDDF8",ru:"\uD83C\uDDF7\uD83C\uDDFA",de:"\uD83C\uDDE9\uD83C\uDDEA",fr:"\uD83C\uDDEB\uD83C\uDDF7",es:"\uD83C\uDDEA\uD83C\uDDF8",it:"\uD83C\uDDEE\uD83C\uDDF9",pt:"\uD83C\uDDF5\uD83C\uDDF9",zh:"\uD83C\uDDE8\uD83C\uDDF3",ja:"\uD83C\uDDEF\uD83C\uDDF5",ko:"\uD83C\uDDF0\uD83C\uDDF7",ar:"\uD83C\uDDF8\uD83C\uDDE6",hi:"\uD83C\uDDEE\uD83C\uDDF3",tr:"\uD83C\uDDF9\uD83C\uDDF7",pl:"\uD83C\uDDF5\uD83C\uDDF1",nl:"\uD83C\uDDF3\uD83C\uDDF1"};function o(e){let{variant:a="dropdown",showFlag:n=!0,showNativeName:o=!0,className:D=""}=e,{currentLanguage:d,setCurrentLanguage:m,languages:f,isRTL:x}=(0,u.ZK)(),[C,h]=(0,t.useState)(!1),g=f.find(e=>e.code===d),p=e=>{m(e),h(!1)};return"inline"===a?(0,s.jsx)("div",{className:"flex flex-wrap gap-2 ".concat(D),children:f.map(e=>(0,s.jsxs)(l.zx,{variant:d===e.code?"default":"outline",size:"sm",onClick:()=>p(e.code),className:"flex items-center space-x-2",children:[n&&(0,s.jsx)("span",{className:"text-lg",children:i[e.code]||"\uD83C\uDF10"}),(0,s.jsx)("span",{children:o?e.native_name:e.name}),d===e.code&&(0,s.jsx)(r.Z,{className:"h-3 w-3"})]},e.code))}):"button"===a?(0,s.jsxs)(l.zx,{variant:"outline",onClick:()=>h(!C),className:"flex items-center space-x-2 ".concat(D),children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),n&&g&&(0,s.jsx)("span",{className:"text-lg",children:i[g.code]||"\uD83C\uDF10"}),(0,s.jsx)("span",{children:g?o?g.native_name:g.name:"Language"}),x&&(0,s.jsx)("span",{className:"text-xs",children:"←"})]}):(0,s.jsxs)(l.h_,{open:C,onOpenChange:h,children:[(0,s.jsx)(l.$F,{asChild:!0,children:(0,s.jsxs)(l.zx,{variant:"outline",className:"flex items-center space-x-2 ".concat(D),children:[(0,s.jsx)(c.Z,{className:"h-4 w-4"}),n&&g&&(0,s.jsx)("span",{className:"text-lg",children:i[g.code]||"\uD83C\uDF10"}),(0,s.jsx)("span",{children:g?o?g.native_name:g.name:"Language"}),x&&(0,s.jsx)("span",{className:"text-xs",children:"←"})]})}),(0,s.jsx)(l.AW,{align:"end",className:"w-56",children:f.map(e=>(0,s.jsxs)(l.Xi,{onClick:()=>p(e.code),className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[n&&(0,s.jsx)("span",{className:"text-lg",children:i[e.code]||"\uD83C\uDF10"}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium",children:o?e.native_name:e.name}),o&&e.native_name!==e.name&&(0,s.jsx)("span",{className:"text-xs text-gray-500",children:e.name})]})]}),d===e.code&&(0,s.jsx)(r.Z,{className:"h-4 w-4 text-blue-600"})]},e.code))})]})}},8667:function(e,a,n){n.d(a,{QT:function(){return c},ZK:function(){return i},bd:function(){return r}});var s=n(9659),t=n(3330),l=n(3070);let u=(0,t.createContext)(void 0);function r(e){let{children:a,userId:n,defaultLanguage:r="en"}=e,[c,i]=(0,t.useState)(r),[o,D]=(0,t.useState)([]),[d,m]=(0,t.useState)(null),[f,x]=(0,t.useState)(!0),[C,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g()},[n]),(0,t.useEffect)(()=>{(null==d?void 0:d.preferred_language)&&i(d.preferred_language)},[d]);let g=async()=>{try{x(!0);let e=await l.Dp.getLanguages();if(D(e),n){let e=await l.Dp.getUserPreferences(n);m(e),(null==e?void 0:e.preferred_language)&&i(e.preferred_language)}}catch(e){console.error("Error loading i18n data:",e)}finally{x(!1)}},p=async e=>{if(n)try{if(h(!0),await l.Dp.updateUserPreferences(n,e)){let e=await l.Dp.getUserPreferences(n);m(e)}}catch(e){console.error("Error updating user preferences:",e)}finally{h(!1)}},y=async e=>{i(e),n&&await p({preferred_language:e})},F=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],e},j=o.find(e=>e.code===c),v=(null==j?void 0:j.rtl)||!1;return(0,s.jsx)(u.Provider,{value:{currentLanguage:c,setCurrentLanguage:y,languages:o,loading:f,userPreferences:d,updateUserPreferences:p,t:F,tWithFallback:function(e,a){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",s=F(e,n);return s!==e?s:a},formatPrice:(e,a)=>{let n=a||(null==d?void 0:d.currency_code)||"RUB";return l.Dp.formatCurrency(e,n,c)},formatDate:e=>{let a=(null==d?void 0:d.timezone)||"UTC";return l.Dp.formatDate(e,c,a)},formatTime:(e,a)=>{let n=(null==d?void 0:d.timezone)||"UTC",s=a||(null==d?void 0:d.time_format)||"12h";return l.Dp.formatTime(e,c,n,s)},formatRelativeTime:e=>{let a=(null==d?void 0:d.timezone)||"UTC";return l.Dp.formatRelativeTime(e,c,a)},formatNumber:(e,a)=>l.Dp.formatNumber(e,c,a),isRTL:v,isLoading:C},children:a})}function c(){let e=(0,t.useContext)(u);if(void 0===e)throw Error("useI18n must be used within an I18nProvider");return e}function i(){let{currentLanguage:e,setCurrentLanguage:a,languages:n,isRTL:s}=c();return{currentLanguage:e,setCurrentLanguage:a,languages:n,isRTL:s}}},1097:function(e,a,n){n.d(a,{H:function(){return r},a:function(){return c}});var s=n(9659),t=n(3330),l=n(3070);let u=(0,t.createContext)(void 0);function r(e){let{children:a}=e,[n,r]=(0,t.useState)(null),[c,i]=(0,t.useState)(null),[o,D]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await l.OQ.auth.getSession();if(null==e?void 0:e.user){r(e.user);let a=await l.eH.getCurrentProfile();i(a)}}catch(e){console.error("Error getting initial session:",e)}finally{D(!1)}})();let{data:{subscription:e}}=l.OQ.auth.onAuthStateChange(async(e,a)=>{if(null==a?void 0:a.user){r(a.user);try{let e=await l.eH.getCurrentProfile();i(e)}catch(e){console.error("Error fetching profile:",e),i(null)}}else r(null),i(null);D(!1)});return()=>e.unsubscribe()},[]);let d=async(e,a)=>{D(!0);try{let{error:n}=await l.OQ.auth.signInWithPassword({email:e,password:a});if(n)throw n}catch(e){throw console.error("Error signing in:",e),e}finally{D(!1)}},m=async(e,a,n)=>{D(!0);try{let{error:s}=await l.OQ.auth.signUp({email:e,password:a,options:{data:n}});if(s)throw s}catch(e){throw console.error("Error signing up:",e),e}finally{D(!1)}},f=async()=>{D(!0);try{let{error:e}=await l.OQ.auth.signOut();if(e)throw e}catch(e){throw console.error("Error signing out:",e),e}finally{D(!1)}},x=async e=>{if(!c)throw Error("No profile found");try{let a=await l.eH.updateCurrentProfile(e);i(a)}catch(e){throw console.error("Error updating profile:",e),e}};return(0,s.jsx)(u.Provider,{value:{user:n,profile:c,loading:o,signIn:d,signUp:m,signOut:f,updateProfile:x},children:a})}function c(){let e=(0,t.useContext)(u);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}}]);