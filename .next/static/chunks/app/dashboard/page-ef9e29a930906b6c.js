(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6932:function(e,s,t){Promise.resolve().then(t.bind(t,8944))},8944:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(9659),r=t(3330),l=t(1097),i=t(9059),c=t(6675),n=t(230),d=t(5076),o=t(7835),x=t(3762),h=t(9722),m=t(1922);function u(){var e;let{user:s,profile:t}=(0,l.a)(),[u,g]=(0,r.useState)("overview"),j=[{id:1,title:"Vintage Camera",price:15e3,currency:"RUB",status:"ACTIVE",views:45,favorites:3,photo_urls:["/placeholder-camera.jpg"],created_at:"2024-01-15"},{id:2,title:'MacBook Pro 13"',price:12e4,currency:"RUB",status:"SOLD",views:89,favorites:12,photo_urls:["/placeholder-laptop.jpg"],created_at:"2024-01-10"}],b=[{id:1,from:"John Doe",subject:"Interested in your camera",preview:"Hi, I'm interested in buying your vintage camera...",time:"2 hours ago",unread:!0},{id:2,from:"Jane Smith",subject:"Question about MacBook",preview:"What's the condition of the MacBook?",time:"1 day ago",unread:!1}],f=e=>{switch(e){case"ACTIVE":return"bg-green-100 text-green-800";case"SOLD":return"bg-blue-100 text-blue-800";case"PAUSED":return"bg-yellow-100 text-yellow-800";case"PENDING_REVIEW":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};return s?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",(null==t?void 0:null===(e=t.email)||void 0===e?void 0:e.split("@")[0])||"User","!"]}),(0,a.jsx)("p",{className:"text-gray-600",children:"Here's what's happening with your marketplace activity."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Listings"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:12})]}),(0,a.jsx)(c.Z,{className:"h-8 w-8 text-blue-600"})]})})}),(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:1247..toLocaleString()})]}),(0,a.jsx)(n.Z,{className:"h-8 w-8 text-green-600"})]})})}),(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Favorites"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:89})]}),(0,a.jsx)(d.Z,{className:"h-8 w-8 text-red-600"})]})})}),(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Messages"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:23})]}),(0,a.jsx)(o.Z,{className:"h-8 w-8 text-purple-600"})]})})})]}),(0,a.jsxs)(i.mQ,{value:u,onValueChange:g,className:"space-y-6",children:[(0,a.jsxs)(i.dr,{className:"grid w-full grid-cols-4 bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[(0,a.jsx)(i.SP,{value:"overview",children:"Overview"}),(0,a.jsx)(i.SP,{value:"listings",children:"My Listings"}),(0,a.jsx)(i.SP,{value:"messages",children:"Messages"}),(0,a.jsx)(i.SP,{value:"settings",children:"Settings"})]}),(0,a.jsx)(i.nU,{value:"overview",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Recent Listings"]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[j.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 p-3 rounded-lg bg-gray-50",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-6 h-6 text-gray-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.price.toLocaleString()," ",e.currency]})]}),(0,a.jsx)(i.Ct,{className:f(e.status),children:e.status})]},e.id)),(0,a.jsx)(m.default,{href:"/dashboard?tab=listings",children:(0,a.jsx)(i.zx,{variant:"outline",className:"w-full",children:"View All Listings"})})]})]}),(0,a.jsxs)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"Recent Messages"]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[b.map(e=>(0,a.jsxs)("div",{className:"p-3 rounded-lg ".concat(e.unread?"bg-blue-50 border-l-4 border-blue-400":"bg-gray-50"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.from}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:e.time})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.subject}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.preview})]},e.id)),(0,a.jsx)(m.default,{href:"/dashboard?tab=messages",children:(0,a.jsx)(i.zx,{variant:"outline",className:"w-full",children:"View All Messages"})})]})]})]})}),(0,a.jsxs)(i.nU,{value:"listings",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"My Listings"}),(0,a.jsx)(m.default,{href:"/sell/new",children:(0,a.jsxs)(i.zx,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Create New Listing"]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>(0,a.jsxs)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"aspect-square bg-gray-200 relative",children:[(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-16 h-16 text-gray-400"})}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(i.Ct,{className:f(e.status),children:e.status})})]}),(0,a.jsxs)(i.aY,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 truncate mb-2",children:e.title}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:[e.price.toLocaleString()," ",e.currency]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-1"}),e.views]}),(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),e.favorites]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(i.zx,{variant:"outline",size:"sm",className:"flex-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-1"}),"Edit"]}),(0,a.jsxs)(i.zx,{variant:"outline",size:"sm",className:"flex-1",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 mr-1"}),"View"]})]})]})]},e.id))})]}),(0,a.jsxs)(i.nU,{value:"messages",className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Messages"}),(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(e.unread?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.from}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.time})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:e.subject}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.preview})]},e.id))})})})]}),(0,a.jsxs)(i.nU,{value:"settings",className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),(0,a.jsx)(i.Zb,{className:"bg-white/80 backdrop-blur-sm border-0 shadow-lg",children:(0,a.jsx)(i.aY,{className:"p-6",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Settings content will be implemented here."})})})]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Please sign in to access your dashboard"}),(0,a.jsx)(m.default,{href:"/auth/signin",children:(0,a.jsx)(i.zx,{children:"Sign In"})})]})})}},1097:function(e,s,t){"use strict";t.d(s,{H:function(){return c},a:function(){return n}});var a=t(9659),r=t(3330),l=t(3070);let i=(0,r.createContext)(void 0);function c(e){let{children:s}=e,[t,c]=(0,r.useState)(null),[n,d]=(0,r.useState)(null),[o,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await l.OQ.auth.getSession();if(null==e?void 0:e.user){c(e.user);let s=await l.eH.getCurrentProfile();d(s)}}catch(e){console.error("Error getting initial session:",e)}finally{x(!1)}})();let{data:{subscription:e}}=l.OQ.auth.onAuthStateChange(async(e,s)=>{if(null==s?void 0:s.user){c(s.user);try{let e=await l.eH.getCurrentProfile();d(e)}catch(e){console.error("Error fetching profile:",e),d(null)}}else c(null),d(null);x(!1)});return()=>e.unsubscribe()},[]);let h=async(e,s)=>{x(!0);try{let{error:t}=await l.OQ.auth.signInWithPassword({email:e,password:s});if(t)throw t}catch(e){throw console.error("Error signing in:",e),e}finally{x(!1)}},m=async(e,s,t)=>{x(!0);try{let{error:a}=await l.OQ.auth.signUp({email:e,password:s,options:{data:t}});if(a)throw a}catch(e){throw console.error("Error signing up:",e),e}finally{x(!1)}},u=async()=>{x(!0);try{let{error:e}=await l.OQ.auth.signOut();if(e)throw e}catch(e){throw console.error("Error signing out:",e),e}finally{x(!1)}},g=async e=>{if(!n)throw Error("No profile found");try{let s=await l.eH.updateCurrentProfile(e);d(s)}catch(e){throw console.error("Error updating profile:",e),e}};return(0,a.jsx)(i.Provider,{value:{user:t,profile:n,loading:o,signIn:h,signUp:m,signOut:u,updateProfile:g},children:s})}function n(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},230:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5076:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7835:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},6675:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9722:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3762:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(8136).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}},function(e){e.O(0,[584,782,922,750,70,642,526,560],function(){return e(e.s=6932)}),_N_E=e.O()}]);