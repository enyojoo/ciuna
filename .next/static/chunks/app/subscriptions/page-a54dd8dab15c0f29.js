(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{4545:function(e,t,r){Promise.resolve().then(r.bind(r,7624))},7624:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(9659),a=r(3330),n=r(9059),l=r(3070),i=r(1097),c=r(8667),o=r(3344);let d=(0,r(8136).Z)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);var u=r(2166),x=r(6735),h=r(430),m=r(4660);function g(){var e,t;let{user:r}=(0,i.a)(),{formatPrice:g}=(0,c.QT)(),[p,f]=(0,a.useState)(!0),[y,j]=(0,a.useState)([]),[b,v]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),[E,C]=(0,a.useState)("MONTHLY");(0,a.useEffect)(()=>{r&&P()},[r]);let P=async()=>{if(r)try{f(!0);let[e,t]=await Promise.all([l.mc.getSubscriptionPlans(),l.mc.getUserSubscription(r.id)]);j(e),v(t)}catch(e){console.error("Error loading subscription data:",e)}finally{f(!1)}},S=async e=>{if(r)try{(await l.mc.createSubscription(r.id,e,E)).success?(alert("Subscription created successfully!"),await P()):alert("Failed to create subscription. Please try again.")}catch(e){console.error("Error creating subscription:",e),alert("An error occurred. Please try again.")}},_=async()=>{if(r&&b&&confirm("Are you sure you want to cancel your subscription?"))try{await l.mc.cancelSubscription(r.id,!0)?(alert("Subscription will be cancelled at the end of the current period."),await P()):alert("Failed to cancel subscription. Please try again.")}catch(e){console.error("Error cancelling subscription:",e),alert("An error occurred. Please try again.")}},k=e=>{switch(e){case"BASIC":default:return(0,s.jsx)(o.Z,{className:"h-6 w-6"});case"PREMIUM":return(0,s.jsx)(d,{className:"h-6 w-6"});case"ENTERPRISE":return(0,s.jsx)(u.Z,{className:"h-6 w-6"})}},A=e=>{switch(e){case"BASIC":return"text-blue-600 bg-blue-100";case"PREMIUM":return"text-purple-600 bg-purple-100";case"ENTERPRISE":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},Y=e=>(null==b?void 0:b.plan_id)===e,M=()=>{if(!b)return null;switch(b.status){case"TRIAL":return{text:"Trial",color:"bg-blue-100 text-blue-800"};case"ACTIVE":return{text:"Active",color:"bg-green-100 text-green-800"};case"PAUSED":return{text:"Paused",color:"bg-yellow-100 text-yellow-800"};case"CANCELLED":return{text:"Cancelled",color:"bg-red-100 text-red-800"};case"EXPIRED":return{text:"Expired",color:"bg-gray-100 text-gray-800"};case"PAST_DUE":return{text:"Past Due",color:"bg-orange-100 text-orange-800"};default:return{text:"Unknown",color:"bg-gray-100 text-gray-800"}}};return r?p?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[void 0,void 0,void 0].map((e,t)=>(0,s.jsx)("div",{className:"h-96 bg-gray-200 rounded"},t))})]})})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription Plans"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Choose the perfect plan for your business needs."})]}),b&&(0,s.jsxs)(n.Zb,{className:"mb-8",children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)(n.ll,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Current Subscription"}),(0,s.jsx)(n.Ct,{className:null===(e=M())||void 0===e?void 0:e.color,children:null===(t=M())||void 0===t?void 0:t.text})]})}),(0,s.jsxs)(n.aY,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:"Plan"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["YEARLY"===b.billing_cycle?"Yearly":"Monthly"," billing"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:"Price"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[g(b.price,b.currency_code),"/","YEARLY"===b.billing_cycle?"year":"month"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900",children:"Next Billing"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:new Date(b.current_period_end).toLocaleDateString()})]})]}),"ACTIVE"===b.status&&(0,s.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,s.jsx)(n.zx,{variant:"outline",onClick:_,children:"Cancel Subscription"}),(0,s.jsxs)(n.zx,{variant:"outline",children:[(0,s.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Update Payment Method"]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsxs)("div",{className:"bg-gray-100 rounded-lg p-1",children:[(0,s.jsx)("button",{onClick:()=>C("MONTHLY"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("MONTHLY"===E?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"Monthly"}),(0,s.jsxs)("button",{onClick:()=>C("YEARLY"),className:"px-4 py-2 rounded-md text-sm font-medium transition-colors ".concat("YEARLY"===E?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"),children:["Yearly",(0,s.jsx)("span",{className:"ml-1 text-xs text-green-600",children:"Save 20%"})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:y.map(e=>{let t="YEARLY"===E?e.price_yearly:e.price_monthly,r=Y(e.id),a="PREMIUM"===e.plan_type;return(0,s.jsxs)(n.Zb,{className:"relative ".concat(a?"ring-2 ring-purple-500 shadow-lg":""," ").concat(r?"ring-2 ring-green-500":""),children:[a&&(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(n.Ct,{className:"bg-purple-600 text-white",children:"Most Popular"})}),r&&(0,s.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,s.jsx)(n.Ct,{className:"bg-green-600 text-white",children:"Current Plan"})}),(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,s.jsx)("div",{className:A(e.plan_type),children:k(e.plan_type)}),(0,s.jsx)(n.ll,{className:"text-xl",children:e.name})]}),(0,s.jsx)(n.SZ,{children:e.description}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("span",{className:"text-4xl font-bold",children:g(t||e.price_monthly,e.currency_code)}),(0,s.jsxs)("span",{className:"text-gray-600 ml-2",children:["/","YEARLY"===E?"year":"month"]})]})]}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"space-y-3",children:Object.entries(e.features).map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 text-green-600"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[t.replace(/_/g," ").toLowerCase(),": ",r]})]},t)})}),(0,s.jsx)("div",{className:"pt-4",children:r?(0,s.jsxs)(n.zx,{className:"w-full",disabled:!0,children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Current Plan"]}):(0,s.jsx)(n.zx,{className:"w-full",onClick:()=>S(e.id),children:"ENTERPRISE"===e.plan_type?"Contact Sales":"Subscribe"})}),e.trial_days>0&&(0,s.jsxs)("p",{className:"text-xs text-center text-gray-500",children:[e.trial_days,"-day free trial"]})]})})]},e.id)})}),(0,s.jsxs)("div",{className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Frequently Asked Questions"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Can I change my plan anytime?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Yes, you can upgrade or downgrade your plan at any time. Changes will be prorated and reflected in your next billing cycle."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"What happens if I cancel?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"You can cancel your subscription at any time. You'll continue to have access to premium features until the end of your current billing period."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Do you offer refunds?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"We offer a 30-day money-back guarantee for all new subscriptions. Contact our support team for assistance."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Can I get a custom plan?"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Yes, we offer custom Enterprise plans for large businesses. Contact our sales team to discuss your specific needs."})]})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,s.jsx)(n.Zb,{className:"w-full max-w-md",children:(0,s.jsxs)(n.Ol,{children:[(0,s.jsx)(n.ll,{children:"Access Denied"}),(0,s.jsx)(n.SZ,{children:"Please sign in to view subscriptions."})]})})})}},8667:function(e,t,r){"use strict";r.d(t,{QT:function(){return c},ZK:function(){return o},bd:function(){return i}});var s=r(9659),a=r(3330),n=r(3070);let l=(0,a.createContext)(void 0);function i(e){let{children:t,userId:r,defaultLanguage:i="en"}=e,[c,o]=(0,a.useState)(i),[d,u]=(0,a.useState)([]),[x,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(!0),[p,f]=(0,a.useState)(!1);(0,a.useEffect)(()=>{y()},[r]),(0,a.useEffect)(()=>{(null==x?void 0:x.preferred_language)&&o(x.preferred_language)},[x]);let y=async()=>{try{g(!0);let e=await n.Dp.getLanguages();if(u(e),r){let e=await n.Dp.getUserPreferences(r);h(e),(null==e?void 0:e.preferred_language)&&o(e.preferred_language)}}catch(e){console.error("Error loading i18n data:",e)}finally{g(!1)}},j=async e=>{if(r)try{if(f(!0),await n.Dp.updateUserPreferences(r,e)){let e=await n.Dp.getUserPreferences(r);h(e)}}catch(e){console.error("Error updating user preferences:",e)}finally{f(!1)}},b=async e=>{o(e),r&&await j({preferred_language:e})},v=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1],e},N=d.find(e=>e.code===c),w=(null==N?void 0:N.rtl)||!1;return(0,s.jsx)(l.Provider,{value:{currentLanguage:c,setCurrentLanguage:b,languages:d,loading:m,userPreferences:x,updateUserPreferences:j,t:v,tWithFallback:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"common",s=v(e,r);return s!==e?s:t},formatPrice:(e,t)=>{let r=t||(null==x?void 0:x.currency_code)||"RUB";return n.Dp.formatCurrency(e,r,c)},formatDate:e=>{let t=(null==x?void 0:x.timezone)||"UTC";return n.Dp.formatDate(e,c,t)},formatTime:(e,t)=>{let r=(null==x?void 0:x.timezone)||"UTC",s=t||(null==x?void 0:x.time_format)||"12h";return n.Dp.formatTime(e,c,r,s)},formatRelativeTime:e=>{let t=(null==x?void 0:x.timezone)||"UTC";return n.Dp.formatRelativeTime(e,c,t)},formatNumber:(e,t)=>n.Dp.formatNumber(e,c,t),isRTL:w,isLoading:p},children:t})}function c(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useI18n must be used within an I18nProvider");return e}function o(){let{currentLanguage:e,setCurrentLanguage:t,languages:r,isRTL:s}=c();return{currentLanguage:e,setCurrentLanguage:t,languages:r,isRTL:s}}},1097:function(e,t,r){"use strict";r.d(t,{H:function(){return i},a:function(){return c}});var s=r(9659),a=r(3330),n=r(3070);let l=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[c,o]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await n.OQ.auth.getSession();if(null==e?void 0:e.user){i(e.user);let t=await n.eH.getCurrentProfile();o(t)}}catch(e){console.error("Error getting initial session:",e)}finally{u(!1)}})();let{data:{subscription:e}}=n.OQ.auth.onAuthStateChange(async(e,t)=>{if(null==t?void 0:t.user){i(t.user);try{let e=await n.eH.getCurrentProfile();o(e)}catch(e){console.error("Error fetching profile:",e),o(null)}}else i(null),o(null);u(!1)});return()=>e.unsubscribe()},[]);let x=async(e,t)=>{u(!0);try{let{error:r}=await n.OQ.auth.signInWithPassword({email:e,password:t});if(r)throw r}catch(e){throw console.error("Error signing in:",e),e}finally{u(!1)}},h=async(e,t,r)=>{u(!0);try{let{error:s}=await n.OQ.auth.signUp({email:e,password:t,options:{data:r}});if(s)throw s}catch(e){throw console.error("Error signing up:",e),e}finally{u(!1)}},m=async()=>{u(!0);try{let{error:e}=await n.OQ.auth.signOut();if(e)throw e}catch(e){throw console.error("Error signing out:",e),e}finally{u(!1)}},g=async e=>{if(!c)throw Error("No profile found");try{let t=await n.eH.updateCurrentProfile(e);o(t)}catch(e){throw console.error("Error updating profile:",e),e}};return(0,s.jsx)(l.Provider,{value:{user:r,profile:c,loading:d,signIn:x,signUp:h,signOut:m,updateProfile:g},children:t})}function c(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2166:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8136).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},4660:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8136).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6735:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8136).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},3344:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(8136).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])}},function(e){e.O(0,[584,782,750,70,642,526,560],function(){return e(e.s=4545)}),_N_E=e.O()}]);